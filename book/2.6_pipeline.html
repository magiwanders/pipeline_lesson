<!DOCTYPE HTML>
<html lang="it" class="sidebar-visible no-js ayu">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Introduction to the Pipelined Processor - Introduction to Pipelining</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="scrollbar.css">
        <link rel="stylesheet" href="loader.css">
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "ayu";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="0_navigating_this_lesson.html"><strong aria-hidden="true">1.</strong> Navigating This Lesson</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="0.1_vm_setup.html"><strong aria-hidden="true">1.1.</strong> Virtual Machine Setup</a></li><li class="chapter-item expanded "><a href="0.2_important_info.html"><strong aria-hidden="true">1.2.</strong> Important Info on the Virtual Machine</a></li><li class="chapter-item expanded "><a href="0.3_pretest.html"><strong aria-hidden="true">1.3.</strong> Pre-test</a></li></ol></li><li class="chapter-item expanded "><a href="1_prerequisites.html"><strong aria-hidden="true">2.</strong> Prerequisites</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="1.1_exercises.html"><strong aria-hidden="true">2.1.</strong> Review of RISC-V Instruction Set, 2's complement and Hex Calculations</a></li><li class="chapter-item expanded "><a href="1.3_components_review.html"><strong aria-hidden="true">2.2.</strong> Review of Single Cycle Processor Components</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="1.4_single_register.html"><strong aria-hidden="true">2.2.1.</strong> Single Register</a></li><li class="chapter-item expanded "><a href="1.5_rom.html"><strong aria-hidden="true">2.2.2.</strong> ROM</a></li><li class="chapter-item expanded "><a href="1.6_register_file.html"><strong aria-hidden="true">2.2.3.</strong> Register File</a></li><li class="chapter-item expanded "><a href="1.7_pc.html"><strong aria-hidden="true">2.2.4.</strong> PC</a></li><li class="chapter-item expanded "><a href="1.8_alu.html"><strong aria-hidden="true">2.2.5.</strong> ALU</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="2_timing.html"><strong aria-hidden="true">3.</strong> Circuit Timing (contains SHEAS Tutorial)</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="2.1_propagation_delay.html"><strong aria-hidden="true">3.1.</strong> Consequences of a Non-Negligible Propagation Delay</a></li><li class="chapter-item expanded "><a href="2.3_rtl.html"><strong aria-hidden="true">3.2.</strong> Review of Register Transfer Level (RTL) abstraction</a></li><li class="chapter-item expanded "><a href="2.5_diagramma_rtl.html"><strong aria-hidden="true">3.3.</strong> A Diagram for Graphing the Dynamic Behaviour of RTL Circuits</a></li><li class="chapter-item expanded "><a href="2.6_pipeline.html" class="active"><strong aria-hidden="true">3.4.</strong> Introduction to the Pipelined Processor</a></li></ol></li><li class="chapter-item expanded "><a href="3_building_the_pipeline.html"><strong aria-hidden="true">4.</strong> Building the Pipelined Processor (contains Ripes Tutorial)</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="3.1_from_singlecycle.html"><strong aria-hidden="true">4.1.</strong> Grouping the Components of the Single-Cycle Processor</a></li><li class="chapter-item expanded "><a href="3.4_stages.html"><strong aria-hidden="true">4.2.</strong> An Overview of how Each Inctruction Activates Each Stage</a></li></ol></li><li class="chapter-item expanded "><a href="4_demos.html"><strong aria-hidden="true">5.</strong> Towards Hazards</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="4.1_simple_meaningless_program.html"><strong aria-hidden="true">5.1.</strong> DEMO - Meaningless Program</a></li><li class="chapter-item expanded "><a href="4.2_towards_hazards.html"><strong aria-hidden="true">5.2.</strong> DEMO - Program Towards Hazards</a></li><li class="chapter-item expanded "><a href="4.3_assignments.html"><strong aria-hidden="true">5.3.</strong> Assignment on Hazards</a></li></ol></li><li class="chapter-item expanded "><a href="5_appendix.html"><strong aria-hidden="true">6.</strong> RV32IMAC Cheat Sheet</a></li><li class="chapter-item expanded "><a href="5.1_posttest.html"><strong aria-hidden="true">7.</strong> Post-test</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu (default)</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Introduction to Pipelining</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction-to-the-pipelined-processor"><a class="header" href="#introduction-to-the-pipelined-processor">Introduction to the Pipelined Processor</a></h1>
<div id="sheas_container_4"><div style="width:100%; height:100%"><div class="loader"></div></div></div>
<p>Here is the table to compile to create the diagram:</p>
<table class="table">
  <thead>
    <tr>
        <th>Input</th>
        <th>Cycle 1</th>
        <th>Cycle 2</th>
        <th>Cycle 3</th>
        <th>Cycle 4</th>
        <th>Cycle 5</th>
        <th>Cycle 6</th>
        <th>Cycle 7</th>
        <th>Cycle 8</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th><div><input size=2 type="string" id='2.6.1.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.1.2' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.1.3' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.1.4' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.1.5' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.1.6' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.1.7' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.1.8' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.1.9' onchange="save_table(event)"></div></th>
    </tr>
    <tr>
      <th><div><input size=2 type="string" id='2.6.2.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.2.2' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.2.3' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.2.4' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.2.5' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.2.6' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.2.7' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.2.8' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.2.9' onchange="save_table(event)"></div></th>
    </tr>
    <tr>
      <th><div><input size=2 type="string" id='2.6.3.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.3.2' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.3.3' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.3.4' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.3.5' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.3.6' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.3.7' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.3.8' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.3.9' onchange="save_table(event)"></div></th>
    </tr>
    <tr>
      <th><div><input size=2 type="string" id='2.6.4.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.4.2' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.4.3' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.4.4' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.4.5' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.4.6' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.4.7' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.4.8' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.4.9' onchange="save_table(event)"></div></th>
    </tr>
    <tr>
      <th><div><input size=2 type="string" id='2.6.5.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.5.2' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.5.3' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.5.4' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.5.5' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.5.6' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.5.7' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.5.8' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.5.9' onchange="save_table(event)"></div></th>
    </tr>
    <tr>
      <th><div><input size=2 type="string" id='2.6.6.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.6.2' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.6.3' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.6.4' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.6.5' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.6.6' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.6.7' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.6.8' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.6.9' onchange="save_table(event)"></div></th>
    </tr>
    <tr>
      <th><div><input size=2 type="string" id='2.6.7.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.7.2' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.7.3' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.7.4' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.7.5' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.7.6' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.7.7' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.7.8' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.7.9' onchange="save_table(event)"></div></th>
    </tr>
    <tr>
      <th><div><input size=2 type="string" id='2.6.8.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.8.2' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.8.3' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.8.4' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.8.5' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.8.6' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.8.7' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.8.8' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.8.9' onchange="save_table(event)"></div></th>
    </tr>
    <tr>
      <th><div><input size=2 type="string" id='2.6.9.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.9.2' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.9.3' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.9.4' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.9.5' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.9.6' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.9.7' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.9.8' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.9.9' onchange="save_table(event)"></div></th>
    </tr>
  </tbody>
</table>
<p>Here is a program to use in order to write a simple diagram for the single cycle processor:</p>
<ul>
<li>Program:</li>
</ul>
<pre><code class="language-assembly">sw t1 0(t2)         # M[0xbc] = 0x123
LOOP:
   lw a1 0(t2)      # a1 = M[0xbc] 
   add a2 a1 a1     # a2 = a1+a1
   sw a2 0(t2)      # M[0xbc] = a2
   blt a2 a0 LOOP   # jump if a2&lt;a0
</code></pre>
<table class="table">
  <colgroup>
      <col span="1" style="width: 20%;">
      <col span="1" style="width: 10%;">
      <col span="1" style="width: 10%;">
      <col span="1" style="width: 10%;">
      <col span="1" style="width: 10%;">
      <col span="1" style="width: 10%;">
      <col span="1" style="width: 10%;">
      <col span="1" style="width: 10%;">
      <col span="1" style="width: 10%;">
  </colgroup>
  <thead>
    <tr>
        <th style="width:70%">Input (instruction)</th>
        <th>Cycle 1</th>
        <th>Cycle 2</th>
        <th>Cycle 3</th>
        <th>Cycle 4</th>
        <th>Cycle 5</th>
        <th>Cycle 6</th>
        <th>Cycle 7</th>
        <th>Cycle 8</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>sw t1 0(t2)</th>
      <th><div><input size=2 type="string" id='2.6.1.2.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.1.3.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.1.4.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.1.5.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.1.6.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.1.7.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.1.8.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.1.9.1' onchange="save_table(event)"></div></th>
    </tr>
    <tr>
      <th>lw a1 0(t2)</th>
      <th><div><input size=2 type="string" id='2.6.2.2.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.2.3.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.2.4.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.2.5.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.2.6.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.2.7.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.2.8.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.2.9.1' onchange="save_table(event)"></div></th>
    </tr>
    <tr>
      <th>add a2 a1 a1</th>
      <th><div><input size=2 type="string" id='2.6.3.2.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.3.3.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.3.4.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.3.5.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.3.6.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.3.7.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.3.8.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.3.9.1' onchange="save_table(event)"></div></th>
    </tr>
    <tr>
      <th>sw a2 0(t2)</th>
      <th><div><input size=2 type="string" id='2.6.4.2.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.4.3.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.4.4.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.4.5.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.4.6.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.4.7.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.4.8.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.4.9.1' onchange="save_table(event)"></div></th>
    </tr>
    <tr>
      <th>blt a2 a0 LOOP</th>
      <th><div><input size=2 type="string" id='2.6.5.2.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.5.3.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.5.4.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.5.5.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.5.6.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.5.7.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.5.8.1' onchange="save_table(event)"></div></th>
      <th><div><input size=2 type="string" id='2.6.5.9.1' onchange="save_table(event)"></div></th>
    </tr>
  </tbody>
</table>
<p>Here is a cheatsheet that compares the case of the laundry to the processor. This is helpful to remember the core concepts.</p>
<div class="table-wrapper"><table><thead><tr><th>CONTEXT</th><th>24/7 Laundry</th><th>Single Cycle Processor</th></tr></thead><tbody>
<tr><td>THING TO PROCESS</td><td>CLIENT</td><td>INSTRUCTION</td></tr>
<tr><td>STAGES OF PROCESSING (fake timings)</td><td>Wash 1.45h, Dry 1.30h, Iron</td><td>Fetch 4ns, Decode 1ns, Reg read 4ns, Execution 5ns, Memory 6ns, Writeback 3ns</td></tr>
<tr><td>WHO ARE WE</td><td>Owners and Managers</td><td>R&amp;D Engineers, with the task to make the processor faster</td></tr>
<tr><td>CONSTRAINT</td><td>Only one client in the room at any given time. The laundry serves one client every 5.15h -&gt; 4.36 clients a day</td><td>Only one instruction in the processor at any given time. The processor serves one instruction every 23ns -&gt; 43.478.261 instructions per second (~43.5 MHz)</td></tr>
<tr><td>SOLUTION</td><td>Let three clients in the room at any given time, each using one machine and waiting for the next machine to free before using it (every two hours, the time of the longest task).</td><td>Divide the hardware of the processor in stages, one for each sub-operation, with interstate registers, which are clocked every 6 ns (time of the longest task)</td></tr>
<tr><td>CONS</td><td>Clients waits 15 minutes after washing before drying, and 30 minutes after drying before ironing, since ironing is the longest task. Each client takes 6 hours instead of 5.15 h to was the clothes.</td><td>Every stage except the slowest one will stall for some time after propagating, since they have to wait for the memory stage, the slowest, to finish so they can all proceed. Each instruction takes more to process five times the longest delay (5x6=30ns) instead of the sum of delays (23ns)</td></tr>
<tr><td>PROS</td><td>The laundry processes one client every 2 hours, time of the slowest stage, instead of 5.15, sum of all stages, as three clients at a time are in the laundry IN PARALLEL. The laundry serves 12 clients a day instead of 4.36</td><td>The processor serves one instruction every 6ns, time of the slowest stage, instead of 23ns, sum of all the stages, as five instructions at a tmie are in the processor IN PARALLEL. The processor serves 166.666.667 instructions per second (167MHz instead of 43.5MHz)</td></tr>
<tr><td>TRICK</td><td>No three clients are processed in a block, then 3 others in a block and so on. 3 Clients are there in any given moment, but they rotate (first in is first out)</td><td>No five instructions are processed in a block, then 5 others in a block and so on. 5 Instruction are there in any given moment, but they rotate (first in is first out)</td></tr>
</tbody></table>
</div><style type="text/css">
   input {font-weight:bold;}
</style>
<script>
    for (var i=1; i<10; i++) {
        for (var j=1; j<10; j++) {
            var id = '2.6.' + i + '.' + j
            document.getElementById(id).value = localStorage.getItem(id)
        }
    }
    function save_table(e) { localStorage.setItem(e.target.id, document.getElementById(e.target.id).value) }
</script>
<script>
    for (var i=1; i<10; i++) {
        for (var j=1; j<10; j++) {
            var id = '2.6.' + i + '.' + j + '.1'
            document.getElementById(id).value = localStorage.getItem(id)
        }
    }
</script>
<h1 id="exercises"><a class="header" href="#exercises">Exercises</a></h1>
<ol>
<li>You found out during previous exercises a qualitative estimate of the maximum theoretical propagation delay of the Incrementer circuit. You may have noticed that the circuit is actually a 8 bit adder with one &quot;hidden&quot; input set to one. Did this influence your estimate of the total propagation delate? Discuss the difference in expected actual propagation delay, if any, between a normal adder and the incrementer.</li>
</ol>
<h2 id="transcript"><a class="header" href="#transcript">Transcript</a></h2>
<p>In this part of the lesson we will explain how the solution for the analogy of the laundry generalizes to the problem of the simple RTL circuit from the last part of the lesson, and what all of this has to do with processors and how to make programs run faster on them.</p>
<p>How the analogy maps to the simple RTL circuit is rather straightforward: the clients map to the inputs of the circuit, and the machines map to the operations the that circuit executes on them. Letting each client use a different machine corresponds to dividing the circuit in two, with one further register, as shown in the circuit below, yielding a two-stage circuit which is able to effectively run faster, as the clock only has to wait for the propagation delay of the slowest of the two operations instead of waiting for the sum of their propagation delays. Just as each single client takes more overall time to process its own business, each input now takes longer to come out the other side, twice the slower component time, but the overall throughput of the circuit increases. Feel free to try for yourself for a given input to the circuit the version with only one stage, and two registers, and the new version below with two stages and three registers,and notice that you can allow a faster clock with the latter.</p>
<p>Let us therefore see how to draw the diagram for this case. Let us use the same inputs as last time, therefore 0, 5, and 12. Let us write them down.</p>
<p>Inspect the clock and all the chain of signals, set the input output, and all monitors to decimal, and pause the simulation. </p>
<p>Set the input to zero and dvance the simulation by one clock cycle. We will call this, cycle one. You can see that the input zero has propagated in all the exponentiation stage of the circuit. Therefore, we can say that in cycle one the input zero was processed with the exponentiation.</p>
<p>Set the input to five and advance the simulation by one clock cycle. Now the input zero has passed to the increment stage, while the input five is in the exponentiation stage.</p>
<p>Set the input to twelve and advance the simulation by one clock cycle. We can see now that the input zero has finished processing, and the output shows the result one. Both the other inputs have behaved similarly, shifting to the right, with the 5 input now being incremented and the 12 input now being exponentiated.</p>
<p>Let us do one more cycle. Set the input to 7 and advance the simulation by one clock cycle. The output now shows twenty six, the result of input 5, while the incrementer is processing the input 12 and the exponentiator is handling the input 7.</p>
<p>We could go on indefinitely in this fashion.</p>
<p>The question is now, what does this have to do with the processor? As a matter of fact, the circuit that exponentiates and increments its input was also an analogy for a processor: a series of operations (read and write the memory, alu operations et cetera) that are executed on an input (an instruction) and that are synchronized by a clock signal, in a Register Transfer fashion. The very same diagrams that we compiled for the laundry and for the circuit, we can compile for a processor.</p>
<p>We made this whole journey, that started with remembering that logic gate operate with a propagation delay, to reach this pont: processors are made of a very large number of those ports, and their cumulative delay becomes very noticeable with so many of them in series. It is the objective of the hardware engineer, to explore the ways to make it process more instructions in the same amount of time, preserving funcionality. Having already seen the solution in other analogic domains, it is just a matter of understanding how the principle generalizes to the processor. </p>
<p>The diagram for the single cycle processor is very simple, as only one instruction can fit inside it at any given cycle. Let us use the acronym &quot;SC&quot; for cingle cycle to indicate all the operations that the single cycle processor executes on the input instruction. In the first cycle, we expect the first instruction to be processed, in the second the second instruction and so on until the end of execution. In case the branch is taken once, cycle six will contain the load, and the execution continues as before. </p>
<p>Now, the main question that we are going to answer in this lesson is, how to modify the hardware in order to process more instructions in the same amount of time?</p>
<p>Just as in the two previous analogies, the objective is to divide the single cycle processor in multiple so called stages, separated by interstage registers, so that each contains one instruction completing one well defined part of the total execution. This way, just as the laundry allowed for three clients at any given time working in parallel, on different stages of the cleaning process, the so called &quot;pipelined&quot; processor will allow multiple instructions being processed, at any given time, each completing one different stage of its processing. Both in the case of the laundry and in the case of the RTL circuit however, we did not have to identify the various discrete operations in which to divide the process, as they were trivial. How to sort the components of the single cycle into functionally defined clusters, and therefore how to divide the processor with registers, how the stages interact with one another and with each type of instruction, are all topics of the next parts of the lesson.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="2.5_diagramma_rtl.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="3_building_the_pipeline.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="2.5_diagramma_rtl.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="3_building_the_pipeline.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="submodules/js_builds_html/html_builders.js"></script>
        <script type="text/javascript" src="submodules/paint2pic/p2p.js"></script>
        <script type="text/javascript" src="submodules/simple_hardware_editor_and_simulator/digitaljs_webpack_backup.js"></script>
        <script type="text/javascript" src="submodules/simple_hardware_editor_and_simulator/lz-string_backup.js"></script>
        <script type="text/javascript" src="submodules/simple_hardware_editor_and_simulator/sheas_functions.js"></script>
        <script type="text/javascript" src="submodules/simple_hardware_editor_and_simulator/sheas_builders.js"></script>
        <script type="text/javascript" src="lesson.js"></script>
    </body>
</html>
